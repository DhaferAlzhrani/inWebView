<!DOCTYPE html>
<html>
  <body style="font-family: sans-serif;">
    <h2>XOR Encrypt via Flutter</h2>

    <label>Plain:</label><br>
    <input id="plain" style="width: 250px"><br><br>

    <label>Key:</label><br>
    <input id="key" style="width: 250px"><br><br>

    <button onclick="doXor()">Encrypt</button>

    <h3>Result:</h3>
    <pre id="result"></pre>

    <script>
      async function doXor() {
        const plain = document.getElementById("plain").value;
        const key   = document.getElementById("key").value;

        try {
          const res = await window.flutter_inappwebview.callHandler(
            "xorRequest",
            plain,
            key
          );

          document.getElementById("result").textContent = res;
        } catch (e) {
          document.getElementById("result").textContent =
            "ERROR: " + e.toString();
        }
      }
    </script>
  </body>
</html>
